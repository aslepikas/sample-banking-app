CREATE SCHEMA SAMPLE AUTHORIZATION DBA
CREATE TABLE SAMPLE.CUSTOMERS (ID bigint GENERATED BY DEFAULT AS IDENTITY(START WITH 0), NAME varchar(200), EMAIL varchar(254), PASS varchar(100), PRIMARY KEY (ID))
CREATE UNIQUE INDEX SAMPLE.CUSTOMER_LOGIN_IDX ON SAMPLE.CUSTOMERS (EMAIL)
CREATE TABLE SAMPLE.ACCOUNTS (ACC_ID bigint GENERATED BY DEFAULT AS IDENTITY(START WITH 0) PRIMARY KEY, CUST_ID bigint, BALANCE decimal(16,2), CONSTRAINT FK_CUST_ACC FOREIGN KEY (CUST_ID) REFERENCES SAMPLE.CUSTOMERS(ID))
CREATE TABLE SAMPLE.ACCOUNT_EVENTS (ACC_ID bigint, EVENT_TS timestamp, BALANCE_CHANGE decimal(16,2), BALANCE_BEFORE decimal(16,2), CONSTRAINT FK_ACC_ACCEVENT FOREIGN KEY (ACC_ID) REFERENCES SAMPLE.ACCOUNTS(ACC_ID))
